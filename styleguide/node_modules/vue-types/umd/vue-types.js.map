{"version":3,"file":"vue-types.js","sources":["../node_modules/lodash.isplainobject/index.js","../src/utils.js","../src/index.js"],"sourcesContent":["/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) ||\n      objectToString.call(value) != objectTag || isHostObject(value)) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return (typeof Ctor == 'function' &&\n    Ctor instanceof Ctor && funcToString.call(Ctor) == objectCtorString);\n}\n\nmodule.exports = isPlainObject;\n","import isPlainObject from 'lodash.isplainobject'\nimport Vue from 'vue'\n\nconst ObjProto = Object.prototype\nconst toString = ObjProto.toString\nexport const hasOwn = ObjProto.hasOwnProperty\n\nconst FN_MATCH_REGEXP = /^\\s*function (\\w+)/\n\n// https://github.com/vuejs/vue/blob/dev/src/core/util/props.js#L177\nexport const getType = (fn) => {\n  const type = (fn !== null && fn !== undefined) ? (fn.type ? fn.type : fn) : null\n  const match = type && type.toString().match(FN_MATCH_REGEXP)\n  return match && match[1]\n}\n\nexport const getNativeType = (value) => {\n  if (value === null || value === undefined) return null\n  const match = value.constructor.toString().match(FN_MATCH_REGEXP)\n  return match && match[1]\n}\n\n/**\n * No-op function\n */\nexport const noop = () => {}\n\n/**\n * Checks for a own property in an object\n *\n * @param {object} obj - Object\n * @param {string} prop - Property to check\n */\nexport const has = (obj, prop) => hasOwn.call(obj, prop)\n\n/**\n * Determines whether the passed value is an integer. Uses `Number.isInteger` if available\n *\n * @see https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n * @param {*} value - The value to be tested for being an integer.\n * @returns {boolean}\n */\nexport const isInteger = Number.isInteger || function (value) {\n  return typeof value === 'number' && isFinite(value) && Math.floor(value) === value\n}\n\n/**\n * Determines whether the passed value is an Array.\n *\n * @param {*} value - The value to be tested for being an array.\n * @returns {boolean}\n */\nexport const isArray = Array.isArray || function (value) {\n  return toString.call(value) === '[object Array]'\n}\n\n/**\n * Checks if a value is a function\n *\n * @param {any} value - Value to check\n * @returns {boolean}\n */\nexport const isFunction = (value) => toString.call(value) === '[object Function]'\n\n/**\n * Adds a `def` method to the object returning a new object with passed in argument as `default` property\n *\n * @param {object} type - Object to enhance\n */\nexport const withDefault = function (type) {\n  Object.defineProperty(type, 'def', {\n    value (def) {\n      if (def === undefined && !this.default) {\n        return this\n      }\n      if (!isFunction(def) && !validateType(this, def)) {\n        warn(`${this._vueTypes_name} - invalid default value: \"${def}\"`, def)\n        return this\n      }\n      if (isArray(def)) {\n        this.default = () => [...def]\n      } else if (isPlainObject(def)) {\n        this.default = () => Object.assign({}, def)\n      } else {\n        this.default = def\n      }\n      return this\n    },\n    enumerable: false,\n    writable: false\n  })\n}\n\n/**\n * Adds a `isRequired` getter returning a new object with `required: true` key-value\n *\n * @param {object} type - Object to enhance\n */\nexport const withRequired = function (type) {\n  Object.defineProperty(type, 'isRequired', {\n    get () {\n      this.required = true\n      return this\n    },\n    enumerable: false\n  })\n}\n\n/**\n * Adds `isRequired` and `def` modifiers to an object\n *\n * @param {string} name - Type internal name\n * @param {object} obj - Object to enhance\n * @returns {object}\n */\nexport const toType = (name, obj) => {\n  Object.defineProperty(obj, '_vueTypes_name', {\n    enumerable: false,\n    writable: false,\n    value: name\n  })\n  withRequired(obj)\n  withDefault(obj)\n\n  if (isFunction(obj.validator)) {\n    obj.validator = obj.validator.bind(obj)\n  }\n  return obj\n}\n\n/**\n * Validates a given value against a prop type object\n *\n * @param {Object|*} type - Type to use for validation. Either a type object or a constructor\n * @param {*} value - Value to check\n * @param {boolean} silent - Silence warnings\n * @returns {boolean}\n */\nexport const validateType = (type, value, silent = false) => {\n  let typeToCheck = type\n  let valid = true\n  let expectedType\n  if (!isPlainObject(type)) {\n    typeToCheck = { type }\n  }\n  const namePrefix = typeToCheck._vueTypes_name ? (typeToCheck._vueTypes_name + ' - ') : ''\n\n  if (hasOwn.call(typeToCheck, 'type') && typeToCheck.type !== null) {\n    if (isArray(typeToCheck.type)) {\n      valid = typeToCheck.type.some((type) => validateType(type, value, true))\n      expectedType = typeToCheck.type.map((type) => getType(type)).join(' or ')\n    } else {\n      expectedType = getType(typeToCheck)\n\n      if (expectedType === 'Array') {\n        valid = isArray(value)\n      } else if (expectedType === 'Object') {\n        valid = isPlainObject(value)\n      } else if (expectedType === 'String' || expectedType === 'Number' || expectedType === 'Boolean' || expectedType === 'Function') {\n        valid = getNativeType(value) === expectedType\n      } else {\n        valid = value instanceof typeToCheck.type\n      }\n    }\n  }\n\n  if (!valid) {\n    silent === false && warn(`${namePrefix}value \"${value}\" should be of type \"${expectedType}\"`)\n    return false\n  }\n\n  if (hasOwn.call(typeToCheck, 'validator') && isFunction(typeToCheck.validator)) {\n    // swallow warn\n    let oldWarn\n    if (silent) {\n      oldWarn = warn\n      warn = noop\n    }\n\n    valid = typeToCheck.validator(value)\n    oldWarn && (warn = oldWarn)\n\n    if (!valid && silent === false) warn(`${namePrefix}custom validation failed`)\n    return valid\n  }\n  return valid\n}\n\nlet warn = noop\n\nif (process.env.NODE_ENV !== 'production') {\n  const hasConsole = typeof console !== 'undefined'\n  warn = hasConsole ? (msg) => {\n    Vue.config.silent === false && console.warn(`[VueTypes warn]: ${msg}`)\n  } : noop\n}\n\nexport { warn }\n","import isPlainObject from 'lodash.isplainobject'\nimport { noop, toType, getType, isFunction, validateType, isInteger, isArray, warn } from './utils'\n\nconst VueTypes = {\n\n  get any () {\n    return toType('any', {\n      type: null\n    })\n  },\n\n  get func () {\n    return toType('function', {\n      type: Function\n    }).def(currentDefaults.func)\n  },\n\n  get bool () {\n    return toType('boolean', {\n      type: Boolean\n    }).def(currentDefaults.bool)\n  },\n\n  get string () {\n    return toType('string', {\n      type: String\n    }).def(currentDefaults.string)\n  },\n\n  get number () {\n    return toType('number', {\n      type: Number\n    }).def(currentDefaults.number)\n  },\n\n  get array () {\n    return toType('array', {\n      type: Array\n    }).def(currentDefaults.array)\n  },\n\n  get object () {\n    return toType('object', {\n      type: Object\n    }).def(currentDefaults.object)\n  },\n\n  get integer () {\n    return toType('integer', {\n      type: Number,\n      validator (value) {\n        return isInteger(value)\n      }\n    }).def(currentDefaults.integer)\n  },\n\n  get symbol () {\n    return toType('symbol', {\n      type: null,\n      validator (value) {\n        return typeof value === 'symbol'\n      }\n    })\n  },\n\n  custom (validatorFn, warnMsg = 'custom validation failed') {\n    if (typeof validatorFn !== 'function') {\n      throw new TypeError('[VueTypes error]: You must provide a function as argument')\n    }\n\n    return toType(validatorFn.name || '<<anonymous function>>', {\n      validator (value) {\n        const valid = validatorFn(value)\n        if (!valid) warn(`${this._vueTypes_name} - ${warnMsg}`)\n        return valid\n      }\n    })\n  },\n\n  oneOf (arr) {\n    if (!isArray(arr)) {\n      throw new TypeError('[VueTypes error]: You must provide an array as argument')\n    }\n    const msg = `oneOf - value should be one of \"${arr.join('\", \"')}\"`\n    const allowedTypes = arr.reduce((ret, v) => {\n      if (v !== null && v !== undefined) {\n        ret.indexOf(v.constructor) === -1 && ret.push(v.constructor)\n      }\n      return ret\n    }, [])\n\n    return toType('oneOf', {\n      type: allowedTypes.length > 0 ? allowedTypes : null,\n      validator (value) {\n        const valid = arr.indexOf(value) !== -1\n        if (!valid) warn(msg)\n        return valid\n      }\n    })\n  },\n\n  instanceOf (instanceConstructor) {\n    return toType('instanceOf', {\n      type: instanceConstructor\n    })\n  },\n\n  oneOfType (arr) {\n    if (!isArray(arr)) {\n      throw new TypeError('[VueTypes error]: You must provide an array as argument')\n    }\n\n    let hasCustomValidators = false\n\n    const nativeChecks = arr.reduce((ret, type, i) => {\n      if (isPlainObject(type)) {\n        if (type._vueTypes_name === 'oneOf') {\n          return ret.concat(type.type || [])\n        }\n        if (type.type && !isFunction(type.validator)) {\n          if (isArray(type.type)) return ret.concat(type.type)\n          ret.push(type.type)\n        } else if (isFunction(type.validator)) {\n          hasCustomValidators = true\n        }\n        return ret\n      }\n      ret.push(type)\n      return ret\n    }, [])\n\n    if (!hasCustomValidators) {\n      // we got just native objects (ie: Array, Object)\n      // delegate to Vue native prop check\n      return toType('oneOfType', {\n        type: nativeChecks\n      })\n    }\n\n    const typesStr = arr.map((type) => {\n      if (type && isArray(type.type)) {\n        return type.type.map(getType)\n      }\n      return getType(type)\n    }).reduce((ret, type) => ret.concat(isArray(type) ? type : [type]), []).join('\", \"')\n\n    return this.custom(function oneOfType (value) {\n      const valid = arr.some((type) => {\n        if (type._vueTypes_name === 'oneOf') {\n          return type.type ? validateType(type.type, value, true) : true\n        }\n        return validateType(type, value, true)\n      })\n      if (!valid) warn(`oneOfType - value type should be one of \"${typesStr}\"`)\n      return valid\n    })\n  },\n\n  arrayOf (type) {\n    return toType('arrayOf', {\n      type: Array,\n      validator (values) {\n        const valid = values.every((value) => validateType(type, value))\n        if (!valid) warn(`arrayOf - value must be an array of \"${getType(type)}\"`)\n        return valid\n      }\n    })\n  },\n\n  objectOf (type) {\n    return toType('objectOf', {\n      type: Object,\n      validator (obj) {\n        const valid = Object.keys(obj).every((key) => validateType(type, obj[key]))\n        if (!valid) warn(`objectOf - value must be an object of \"${getType(type)}\"`)\n        return valid\n      }\n    })\n  },\n\n  shape (obj) {\n    const keys = Object.keys(obj)\n    const requiredKeys = keys.filter((key) => obj[key] && obj[key].required === true)\n\n    const type = toType('shape', {\n      type: Object,\n      validator (value) {\n        if (!isPlainObject(value)) {\n          return false\n        }\n        const valueKeys = Object.keys(value)\n\n        // check for required keys (if any)\n        if (requiredKeys.length > 0 && requiredKeys.some((req) => valueKeys.indexOf(req) === -1)) {\n          warn(`shape - at least one of required properties \"${requiredKeys.join('\", \"')}\" is not present`)\n          return false\n        }\n\n        return valueKeys.every((key) => {\n          if (keys.indexOf(key) === -1) {\n            if (this._vueTypes_isLoose === true) return true\n            warn(`shape - object is missing \"${key}\" property`)\n            return false\n          }\n          const type = obj[key]\n          return validateType(type, value[key])\n        })\n      }\n    })\n\n    Object.defineProperty(type, '_vueTypes_isLoose', {\n      enumerable: false,\n      writable: true,\n      value: false\n    })\n\n    Object.defineProperty(type, 'loose', {\n      get () {\n        this._vueTypes_isLoose = true\n        return this\n      },\n      enumerable: false\n    })\n\n    return type\n  }\n\n}\n\nconst typeDefaults = () => ({\n  func: noop,\n  bool: true,\n  string: '',\n  number: 0,\n  array: () => [],\n  object: () => ({}),\n  integer: 0\n})\n\nlet currentDefaults = typeDefaults()\n\nObject.defineProperty(VueTypes, 'sensibleDefaults', {\n  enumerable: false,\n  set (value) {\n    if (value === false) {\n      currentDefaults = {}\n    } else if (value === true) {\n      currentDefaults = typeDefaults()\n    } else if (isPlainObject(value)) {\n      currentDefaults = value\n    }\n  },\n  get () {\n    return currentDefaults\n  }\n})\n\nVueTypes.utils = {\n  validate (value, type) {\n    return validateType(type, value, true)\n  },\n  toType\n}\n\nexport default VueTypes\n"],"names":["ObjProto","Object","prototype","toString","hasOwn","hasOwnProperty","FN_MATCH_REGEXP","getType","fn","type","undefined","match","getNativeType","value","constructor","noop","isInteger","Number","isFinite","Math","floor","isArray","Array","call","isFunction","withDefault","defineProperty","def","default","validateType","warn","_vueTypes_name","isPlainObject","assign","enumerable","writable","withRequired","get","required","toType","name","obj","validator","bind","silent","typeToCheck","valid","expectedType","namePrefix","some","map","join","oldWarn","hasConsole","console","msg","Vue","config","VueTypes","any","func","Function","currentDefaults","bool","Boolean","string","String","number","array","object","integer","symbol","custom","validatorFn","warnMsg","TypeError","oneOf","arr","allowedTypes","reduce","ret","v","indexOf","push","length","instanceOf","instanceConstructor","oneOfType","hasCustomValidators","nativeChecks","i","concat","typesStr","arrayOf","values","every","objectOf","keys","key","shape","requiredKeys","filter","valueKeys","req","_vueTypes_isLoose","typeDefaults","set","utils","validate"],"mappings":"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"}